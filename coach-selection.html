<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coach Selection - Language Learning App</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="coach-selection.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-K8GMWBXC5J"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-K8GMWBXC5J');
    </script>
    <!-- Meta Pixel Code --><script>!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js'); fbq('init', '1140262604175898'); fbq('track', 'PageView');</script><noscript> <img height="1" width="1" src="https://www.facebook.com/tr?id=1140262604175898&ev=PageView&noscript=1"/></noscript><!-- End Meta Pixel Code -->

</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid d-flex justify-content-between align-items-center">
            <a class="navbar-brand" href="/course_selection.html">
                <img src="assets/images/languizy-thin.png" alt="Languizy Logo" width="100" height="40"
                    class="d-inline-block align-text-top" title="Languizy, Language Learning for Real">
            </a>
            <!-- Wrap the logout button and avatar inside a flex container -->
            <div class="d-flex align-items-center">
                <span id="subLevelBadge" class="badge me-3"></span>
                <button class="btn btn-outline-light me-3" onclick="logout()">Logout</button>
                <div id="userAvatar" class="avatar"></div>
            </div>
        </div>
    </nav>

    <!-- Main Container for Coach Selection -->
    <div class="container my-5" id="mainContainer" style="display:none">
        <!-- Header Section -->
        <div class="row mb-4 text-center">
            <div class="col-md-12">
                <h2>Select Your Coach</h2>
                <p class="text-muted">Choose a coach to guide you through your language learning journey.</p>
            </div>
        </div>

        <!-- Selected Coach Section -->
        <div class="selected-coach-card">
            <div class="d-flex">
                <img id="selectedCoachImage" src="" alt="Selected Coach">
                <div class="ms-4">
                    <h4 id="selectedCoachName">Loading...</h4>
                    <p id="selectedCoachDescription" class="text-muted">Loading description...</p>
                    <div>
                        <button class="btn btn-primary" disabled>Your Current Coach</button>
                        <button class="btn btn-secondary ms-2" onclick="window.location.href='/course_selection.html'">Return to Dashboard</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Coach Selection Grid -->
        <div class="coach-grid-container" id="coachGrid">
            <!-- Coaches will be populated here dynamically -->
        </div>
    </div>

    <!-- Upgrade Modal -->
    <div class="modal fade" id="upgradeModal" tabindex="-1" aria-labelledby="upgradeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-warning text-dark">
                    <h5 class="modal-title" id="upgradeModalLabel">Unlock More Coaches and Features!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="lead">Upgrade to our Pro Plan to gain access to more coaches, unlimited daily exercises, detailed stats, longer AI conversations, and more!</p>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i> Access to All Coaches</li>
                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i> Unlimited Daily Exercises</li>
                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i> Detailed Practice Stats</li>
                        <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i> Longer AI Conversations</li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Continue Free</button>
                    <button type="button" class="btn btn-primary" onclick="redirectToUpgrade()">Upgrade Now</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase, jQuery, and Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="auth.js"></script>
    <!-- Custom JS -->
    <script src="coach-selection.js"></script>
</body>

</html>
